<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="p:domain_verify" content="b07db16852ac484ab4d32324394040a1"/>
    <%= favicon_link_tag 'logo.png' %>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <%= display_meta_tags %>
    <%= csrf_meta_tags %>
    <%= stylesheet_link_tag 'application' %>
    <%= javascript_include_tag 'application'%>
  </head>
  <body>
    <div id="site-wrapper">
      <%= render "layouts/partials/slide-in-menu" %>
      <%= render "layouts/partials/header-mobile" %>
      <div id="site-canvas">
        <div class="banner_stts_relative">
          <p class= "banner_stts" style="background-color: #DC0C2B;">The Teen Magazine's December 2020 issue has been released! Download it for free <%= link_to("here", "/subscribe", class: "link_white", target: "_blank") %>.</p>
        </div>
        <div class="bodywrapper">
          <% if notice %>
            <p class="notice"><%= notice %></p>
          <% end %>
          <%= render "layouts/partials/header" %>
          <%= yield %>
          <%= content_for :render_async %>
        </div>
      </div>
      <div class="toggle-nav" onclick="toggleNav();" id="navigation_overlay"></div>
      <%= render "layouts/partials/footer" %>
    </div>
    <script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-89987071-1', 'auto');
      ga('send', 'pageview');
      $.fn.isOnScreen = function(){
        var win = $(window);
        var viewport = {
            top : win.scrollTop(),
            left : win.scrollLeft()
        };
        viewport.right = viewport.left + win.width();
        viewport.bottom = viewport.top + win.height();
        var bounds = this.offset();
        bounds.right = bounds.left + this.outerWidth();
        bounds.bottom = bounds.top + this.outerHeight();
        return (!(viewport.right < bounds.left || viewport.left > bounds.right || viewport.bottom < bounds.top || viewport.top > bounds.bottom));
      };
      $('document').ready(function() {
        $('a[href^="https://"]').not('a[href*=theteenmagazine]').attr('target','_blank');
        $('a[href^="http://"]').not('a[href*=theteenmagazine]').attr('target','_blank');
        setTimeout(function() {
          $('.notice').slideUp();
        }, 1500);
      });
      $(window).on('scroll',function(){
        if ($('.header-navigation').isOnScreen()) {
          $(".header-mobile").removeClass("header-mobile-show");
        } else {
          $(".header-mobile").addClass("header-mobile-show");
        }
      });
    </script>
  </body>
</html>
